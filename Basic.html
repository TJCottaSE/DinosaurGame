<!-- 
    Built by: T.J. Cotta
    Contact: TJCottaSE@gmail.com
-->
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" charset="utf-8"/>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <style>
    canvas {
        border:1px solid #d3d3d3;    
        position: absolute;
        top: 5px;
        left: 5px;
    }
    #startButton {
        position: relative;
        margin-top: 25px;
        margin-left: 500px;
    }
    #start {
        width: 400px;
        height: 150px;
    }
    .selected:hover {
        border-style: solid;
        border-color: white;
    }
    body {
        background:none transparent;
    }
    h1 {
        color: rgb(255, 255, 255);
        text-align: center;
    }
    #table {
        margin-left: auto;
        margin-right: auto;
        width: 68%;
    }
    </style>
</head>

<!--<body onload="myGameArea.launch()">-->
<body>
    <div id="table">
        <h1>MEGATON-ERUPTION-RUN High Scores</h1>
        <table class="table table-dark">
            <thead>
                <tr>
                    <th style="width: 20%" scope="col">#</th>
                    <th style="width: 60%" scope="col">Name</th>
                    <th style="width: 20%" scope="col">Score</th>
                </tr>
            </thead>
            <tbody>
                <tr scope="row">
                    <td class="font-weight-bold">1</td>
                    <td id="1st"></td>
                    <td class="font-weight-bold" id="1stScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">2</td>
                    <td id="2nd"></td>
                    <td class="font-weight-bold" id="2ndScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">3</td>
                    <td id="3rd"></td>
                    <td class="font-weight-bold" id="3rdScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">4</td>
                    <td id="4th"></td>
                    <td class="font-weight-bold" id="4thScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">5</td>
                    <td id="5th"></td>
                    <td class="font-weight-bold" id="5thScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">6</td>
                    <td id="6th"></td>
                    <td class="font-weight-bold" id="6thScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">7</td>
                    <td id="7th"></td>
                    <td class="font-weight-bold" id="7thScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">8</td>
                    <td id="8th"></td>
                    <td class="font-weight-bold" id="8thScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">9</td>
                    <td id="9th"></td>
                    <td class="font-weight-bold" id="9thScore">0</td>
                </tr>
                <tr scope="row">
                    <td class="font-weight-bold">10</td>
                    <td id="10th"></td>
                    <td class="font-weight-bold" id="10thScore">0</td>
                </tr>
            </tbody>
        </table>
    </div>
    <!--This should be replaced with a title screen and appropriate buttons or selectors-->
    <div id="canvases"></div>
    <div id="start">
        <button id="startButton" onclick="myGameArea.selectChar()" onmouseover="changeStart()" onmouseout="changeBack()"><img src="https://static.wixstatic.com/media/2a9d29_2a4ff41712a44c17be550d04ba5c739e~mv2.png/v1/fill/w_600,h_231,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_2a4ff41712a44c17be550d04ba5c739e~mv2.webp" id="start"></button>
    </div>
    <div id="selectors"></div>
    <br>

<script>
    // Receive data from WIX database to display high scores
    window.onmessage = (event) => {
        if (event.data) {
            //console.log("event data" + event.data)
            document.getElementById("1st").innerHTML = event.data[0].Name
            document.getElementById("1stScore").innerHTML = event.data[0].Score
            document.getElementById("2nd").innerHTML = event.data[1].Name
            document.getElementById("2ndScore").innerHTML = event.data[1].Score
            document.getElementById("3rd").innerHTML = event.data[2].Name
            document.getElementById("3rdScore").innerHTML = event.data[2].Score
            document.getElementById("4th").innerHTML = event.data[3].Name
            document.getElementById("4thScore").innerHTML = event.data[3].Score
            document.getElementById("5th").innerHTML = event.data[4].Name
            document.getElementById("5thScore").innerHTML = event.data[4].Score
            document.getElementById("6th").innerHTML = event.data[5].Name
            document.getElementById("6thScore").innerHTML = event.data[5].Score
            document.getElementById("7th").innerHTML = event.data[6].Name
            document.getElementById("7thScore").innerHTML = event.data[6].Score
            document.getElementById("8th").innerHTML = event.data[7].Name
            document.getElementById("8thScore").innerHTML = event.data[7].Score
            document.getElementById("9th").innerHTML = event.data[8].Name
            document.getElementById("9thScore").innerHTML = event.data[8].Score
            document.getElementById("10th").innerHTML = event.data[9].Name
            document.getElementById("10thScore").innerHTML = event.data[9].Score
        }
    }

    // Game related Code below
    var myGamePiece;
    var myObstacles = [];
    var myGround = [];
    var myCrators = [];
    var myScore;
    var myRound = 1;
    var centeredButton;
    var leftPressed = false;
    var rightPressed = false;
    var downPressed = false;
    var useRandY = true;                        // Randomizes the y-coord for incoming meteors; Default = false;
    var jumpTime = 12;                          // This variable controls the number of frames that pass before gravity begins to pull down on the game piece
    var deathAnimation = false;                 // Switch that controls the playing of the death animation
    var deathFrameNo;                           // Used to allow frameNo continuance during death animation
    const canvasHeight = 810;                   // Needs to be dynamically sized
    const canvasWidth = 1440;                   // Needs to be dynamically sized
    const roundDuration = 2000;                 // Controls the length of each stage based on number of frames traversed to the right
    var GamePieceCharacter = 2;                 // Controls which character image will be displayed as the game piece
    var GamePieceWidth = canvasWidth/16;
    var GamePieceHeight = canvasHeight/9;
    var ObstacleWidth = canvasWidth/16;
    var ObstacleHeight = canvasHeight/9;
    
    // HardCode static image paths becuase WIX is stupid
    const startBtn = "https://static.wixstatic.com/media/2a9d29_2a4ff41712a44c17be550d04ba5c739e~mv2.png/v1/fill/w_600,h_231,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_2a4ff41712a44c17be550d04ba5c739e~mv2.webp";
    const startBtnMouseOver = "https://static.wixstatic.com/media/2a9d29_1e2556205d2a4de1a74dec19340e924f~mv2.png/v1/fill/w_600,h_231,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_1e2556205d2a4de1a74dec19340e924f~mv2.webp";
    const startScreenL = "https://static.wixstatic.com/media/2a9d29_ac59cbf48f25415aa51f2d6854504859~mv2_d_3298_1897_s_2.jpg/v1/fill/w_600,h_345,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_ac59cbf48f25415aa51f2d6854504859~mv2_d_3298_1897_s_2.webp";
    const selectScreenL = "https://static.wixstatic.com/media/2a9d29_f1c60ca75de344cabfdfb7c7e2c5009d~mv2_d_3298_1897_s_2.jpg/v1/fill/w_600,h_345,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_f1c60ca75de344cabfdfb7c7e2c5009d~mv2_d_3298_1897_s_2.webp";
    const meteorFlipped = "https://static.wixstatic.com/media/2a9d29_376ef0824efa4cc99797dd56f1ecadcb~mv2.png/v1/fill/w_236,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_376ef0824efa4cc99797dd56f1ecadcb~mv2.webp";
    const meteor = "https://static.wixstatic.com/media/2a9d29_b20462b7577d4a8bbab8b8fa0eb8e727~mv2.png/v1/fill/w_236,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_b20462b7577d4a8bbab8b8fa0eb8e727~mv2.webp";
    const groundL = "https://static.wixstatic.com/media/2a9d29_ec28e6dcab134527be09921192a2707f~mv2.png/v1/fill/w_600,h_168,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_ec28e6dcab134527be09921192a2707f~mv2.webp";
    
    const dino6flipped_A = "https://static.wixstatic.com/media/2a9d29_37657adb707e43bdbe7269c9af77c18a~mv2.png/v1/fill/w_523,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_37657adb707e43bdbe7269c9af77c18a~mv2.webp";
    const dino6L_A = "https://static.wixstatic.com/media/2a9d29_9311fb3fad3940c4b39999af6d0f1dd2~mv2.png/v1/fill/w_523,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_9311fb3fad3940c4b39999af6d0f1dd2~mv2.webp";
    const dino6flipped_B = "https://static.wixstatic.com/media/2a9d29_03dc17e736f745899f065a71aba6bcff~mv2.png/v1/fill/w_569,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_03dc17e736f745899f065a71aba6bcff~mv2.webp";
    const dino6L_B = "https://static.wixstatic.com/media/2a9d29_f92181f2cafd4df2876079589eeddef1~mv2.png/v1/fill/w_569,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_f92181f2cafd4df2876079589eeddef1~mv2.webp";   
    const dino6flipped_C = "https://static.wixstatic.com/media/2a9d29_70912c8459db4da09a7cae126af185b6~mv2.png/v1/fill/w_516,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_70912c8459db4da09a7cae126af185b6~mv2.webp";
    const dino6L_C = "https://static.wixstatic.com/media/2a9d29_9942284f3f24404ba4c283aaef69a067~mv2.png/v1/fill/w_516,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_9942284f3f24404ba4c283aaef69a067~mv2.webp";
    const dino5flipped_A = "https://static.wixstatic.com/media/2a9d29_014cf3d3527f47cb84c298e971d436df~mv2.png/v1/fill/w_506,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_014cf3d3527f47cb84c298e971d436df~mv2.webp";
    const dino5L_A = "https://static.wixstatic.com/media/2a9d29_b1f807aa2feb4ec794b9a86d73e95ada~mv2.png/v1/fill/w_506,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_b1f807aa2feb4ec794b9a86d73e95ada~mv2.webp";
    const dino5flipped_B = "https://static.wixstatic.com/media/2a9d29_799ea3553f084456b69d86c1e075bc06~mv2.png/v1/fill/w_507,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_799ea3553f084456b69d86c1e075bc06~mv2.webp";
    const dino5L_B = "https://static.wixstatic.com/media/2a9d29_216b548bcea344ad83c9b75f7a1afc6d~mv2.png/v1/fill/w_507,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_216b548bcea344ad83c9b75f7a1afc6d~mv2.webp";
    const dino5flipped_C = "https://static.wixstatic.com/media/2a9d29_f6918d86467447aa8668079f3aae06da~mv2.png/v1/fill/w_468,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_f6918d86467447aa8668079f3aae06da~mv2.webp";
    const dino5L_C = "https://static.wixstatic.com/media/2a9d29_fd2862d80acc421eaedacaac9fa3d911~mv2.png/v1/fill/w_468,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_fd2862d80acc421eaedacaac9fa3d911~mv2.webp";
    const dino4flipped_A = "https://static.wixstatic.com/media/2a9d29_16a13fb714c940039ac0f66295a435dd~mv2.png/v1/fill/w_600,h_395,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_16a13fb714c940039ac0f66295a435dd~mv2.webp";
    const dino4L_A = "https://static.wixstatic.com/media/2a9d29_b4d74c7a746e41f39d55f989e2735a5b~mv2.png/v1/fill/w_600,h_395,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_b4d74c7a746e41f39d55f989e2735a5b~mv2.webp";
    const dino4flipped_B = "https://static.wixstatic.com/media/2a9d29_f241dea606b643199102d47a83f894b8~mv2.png/v1/fill/w_455,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_f241dea606b643199102d47a83f894b8~mv2.webp";
    const dino4L_B = "https://static.wixstatic.com/media/2a9d29_a7e44f6fc6ba48fb9fb2b60d636ce8b4~mv2.png/v1/fill/w_455,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_a7e44f6fc6ba48fb9fb2b60d636ce8b4~mv2.webp";    
    const dino4flipped_C = "https://static.wixstatic.com/media/2a9d29_0c8bb38067bb457ea7ddb9b72e19ac18~mv2.png/v1/fill/w_498,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_0c8bb38067bb457ea7ddb9b72e19ac18~mv2.webp";
    const dino4L_C = "https://static.wixstatic.com/media/2a9d29_2a0dff04b0264ca291d805c4adcbe92a~mv2.png/v1/fill/w_498,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_2a0dff04b0264ca291d805c4adcbe92a~mv2.webp";
    const dino3flipped_A = "https://static.wixstatic.com/media/2a9d29_d749320b36d142559cebccf3a319d11f~mv2_d_2040_2726_s_2.png/v1/fill/w_449,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_d749320b36d142559cebccf3a319d11f~mv2_d_2040_2726_s_2.webp";
    const dino3L_A = "https://static.wixstatic.com/media/2a9d29_e597783dea694e96a2628ec673f39cf1~mv2_d_2040_2726_s_2.png/v1/fill/w_449,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_e597783dea694e96a2628ec673f39cf1~mv2_d_2040_2726_s_2.webp";
    const dino3flipped_B = "https://static.wixstatic.com/media/2a9d29_35cc29c25f57478dbc429a01cd651cf2~mv2_d_2040_2726_s_2.png/v1/fill/w_449,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_35cc29c25f57478dbc429a01cd651cf2~mv2_d_2040_2726_s_2.webp";
    const dino3L_B = "https://static.wixstatic.com/media/2a9d29_25998c8d077a48cda24f0f19613125bd~mv2_d_2040_2726_s_2.png/v1/fill/w_449,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_25998c8d077a48cda24f0f19613125bd~mv2_d_2040_2726_s_2.webp";
    const dino3flipped_C = "https://static.wixstatic.com/media/2a9d29_90b99b2c250c4e6fbd42b522e88c6d05~mv2_d_2040_2726_s_2.png/v1/fill/w_449,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_90b99b2c250c4e6fbd42b522e88c6d05~mv2_d_2040_2726_s_2.webp";
    const dino3L_C = "https://static.wixstatic.com/media/2a9d29_96d26e107f9d477c9afff729966516ee~mv2_d_2040_2726_s_2.png/v1/fill/w_449,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_96d26e107f9d477c9afff729966516ee~mv2_d_2040_2726_s_2.webp";
    const dino2flipped_A = "https://static.wixstatic.com/media/2a9d29_05d59b3409f74beba0a9ac9c495a29e5~mv2.png/v1/fill/w_501,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_05d59b3409f74beba0a9ac9c495a29e5~mv2.webp";
    const dino2L_A = "https://static.wixstatic.com/media/2a9d29_d66cafa3297446aeb93bbb3b8444f7a6~mv2.png/v1/fill/w_501,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_d66cafa3297446aeb93bbb3b8444f7a6~mv2.webp";
    const dino2flipped_B = "https://static.wixstatic.com/media/2a9d29_1b3c284021fe46efba262db02def0063~mv2.png/v1/fill/w_494,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_1b3c284021fe46efba262db02def0063~mv2.webp";
    const dino2L_B = "https://static.wixstatic.com/media/2a9d29_f7574ff0e4904dad822800497f298d9a~mv2.png/v1/fill/w_494,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_f7574ff0e4904dad822800497f298d9a~mv2.webp";
    const dino2flipped_C = "https://static.wixstatic.com/media/2a9d29_6227d70717ed45fc886b1d6a51b85d79~mv2.png/v1/fill/w_497,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_6227d70717ed45fc886b1d6a51b85d79~mv2.webp";    
    const dino2L_C = "https://static.wixstatic.com/media/2a9d29_078aec7d2fd34b99963c939f59b39d58~mv2.png/v1/fill/w_497,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_078aec7d2fd34b99963c939f59b39d58~mv2.webp";
    const dino1flipped_A = "https://static.wixstatic.com/media/2a9d29_615cb8d236e446708bc9c31e81a342d6~mv2_d_2324_2780_s_2.png/v1/fill/w_501,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_615cb8d236e446708bc9c31e81a342d6~mv2_d_2324_2780_s_2.webp";
    const dino1L_A = "https://static.wixstatic.com/media/2a9d29_5341a508d07141fa825e4f0b6c8cabfe~mv2_d_2324_2780_s_2.png/v1/fill/w_501,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_5341a508d07141fa825e4f0b6c8cabfe~mv2_d_2324_2780_s_2.webp";
    const dino1flipped_B = "https://static.wixstatic.com/media/2a9d29_4eb60a7e7de640b2aef22c265b36d7fa~mv2_d_2324_2881_s_2.png/v1/fill/w_483,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_4eb60a7e7de640b2aef22c265b36d7fa~mv2_d_2324_2881_s_2.webp";
    const dino1L_B = "https://static.wixstatic.com/media/2a9d29_c58a9379492a4ad49e0239ee31cd6cee~mv2_d_2324_2881_s_2.png/v1/fill/w_483,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_c58a9379492a4ad49e0239ee31cd6cee~mv2_d_2324_2881_s_2.webp";
    const dino1flipped_C = "https://static.wixstatic.com/media/2a9d29_3265bae603664a0cb94c2b050cfa723a~mv2_d_2324_2780_s_2.png/v1/fill/w_501,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_3265bae603664a0cb94c2b050cfa723a~mv2_d_2324_2780_s_2.webp";
    const dino1L_C = "https://static.wixstatic.com/media/2a9d29_4a0e4fe9f330444fa3cd0ff716d585f4~mv2_d_2324_2780_s_2.png/v1/fill/w_501,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_4a0e4fe9f330444fa3cd0ff716d585f4~mv2_d_2324_2780_s_2.webp";

    const craterL = "https://static.wixstatic.com/media/2a9d29_544c88bc0f3949788b5779fa35fca348~mv2.png/v1/fill/w_600,h_334,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_544c88bc0f3949788b5779fa35fca348~mv2.webp";
    const playBG = "https://static.wixstatic.com/media/2a9d29_043089066aa54486b58dcb3b1c7fa642~mv2_d_3992_2500_s_4_2.jpg/v1/fill/w_600,h_375,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_043089066aa54486b58dcb3b1c7fa642~mv2_d_3992_2500_s_4_2.webp";
    const playBG1 = "https://static.wixstatic.com/media/2a9d29_c6a5c08eae1941078c0e042c485b76eb~mv2.jpg/v1/fill/w_600,h_416,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_c6a5c08eae1941078c0e042c485b76eb~mv2.webp";
    const playBG2 = "https://static.wixstatic.com/media/2a9d29_f09100c2aaf9456cbad39fbd1ae8f3a9~mv2_d_3992_2500_s_4_2.jpg/v1/fill/w_600,h_375,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_f09100c2aaf9456cbad39fbd1ae8f3a9~mv2_d_3992_2500_s_4_2.webp";
    const playBG3 = "https://static.wixstatic.com/media/2a9d29_eb3e55ee04d84c4aa2984839f1a6bf4b~mv2_d_2560_1600_s_2.jpg/v1/fill/w_600,h_375,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_eb3e55ee04d84c4aa2984839f1a6bf4b~mv2_d_2560_1600_s_2.webp";
    const playBG4 = "https://static.wixstatic.com/media/2a9d29_e8e137c4847240cbb88a323ff16a4b2a~mv2_d_3992_2524_s_4_2.jpg/v1/fill/w_600,h_379,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_e8e137c4847240cbb88a323ff16a4b2a~mv2_d_3992_2524_s_4_2.webp";
    const playBG5 = "https://static.wixstatic.com/media/2a9d29_460dcc75e47d4e9281889371689706f3~mv2_d_4032_1897_s_2.jpg/v1/fill/w_600,h_282,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_460dcc75e47d4e9281889371689706f3~mv2_d_4032_1897_s_2.webp";
    const playBG6 = "https://static.wixstatic.com/media/2a9d29_460dcc75e47d4e9281889371689706f3~mv2_d_4032_1897_s_2.jpg/v1/fill/w_600,h_282,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_460dcc75e47d4e9281889371689706f3~mv2_d_4032_1897_s_2.webp";
    const playBG7 = "https://static.wixstatic.com/media/2a9d29_63831c076b6c46d2bc9b241ea39f75b8~mv2.jpg/v1/fill/w_600,h_370,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_63831c076b6c46d2bc9b241ea39f75b8~mv2.webp";
    const playBG8 = "https://static.wixstatic.com/media/2a9d29_ca58eb05f0864a2fa90276473c32e1a0~mv2.jpg/v1/fill/w_600,h_402,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_ca58eb05f0864a2fa90276473c32e1a0~mv2.webp";
    const playBG9 = "https://static.wixstatic.com/media/2a9d29_44fe8ec2d379432c98bbf92a35661518~mv2_d_3298_1897_s_2.jpg/v1/fill/w_600,h_345,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_44fe8ec2d379432c98bbf92a35661518~mv2_d_3298_1897_s_2.webp";
    const bigMeteor1 = "https://static.wixstatic.com/media/2a9d29_5ce81558fa4948b18142036ff790c4a3~mv2.png/v1/fill/w_405,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_5ce81558fa4948b18142036ff790c4a3~mv2.webp";
    const bigMeteor2 = "https://static.wixstatic.com/media/2a9d29_7aad96fdb30d4c2b8d913486898ca064~mv2.png/v1/fill/w_405,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_7aad96fdb30d4c2b8d913486898ca064~mv2.webp";
    const bigMeteor3 = "https://static.wixstatic.com/media/2a9d29_38a047a268714b1ba50f519777e62eee~mv2.png/v1/fill/w_405,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_38a047a268714b1ba50f519777e62eee~mv2.webp";
    const bigMeteor4 = "https://static.wixstatic.com/media/2a9d29_d2fd2dae786f493ab9ddc7f73c193425~mv2.png/v1/fill/w_405,h_600,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_d2fd2dae786f493ab9ddc7f73c193425~mv2.webp";

    // Change jump duration based on screen height
    if (canvasHeight < 300){
        jumpTime = 6;
    }
    else if (canvasHeight < 600) {
        jumpTime = 8;
    }
    else if (canvasHeight < 900) {
        jumpTime = 10;
    }
    
    function startGame() {
        console.log("Start Game Called");
        var gamePieceImages = [];   // Images that are used for the player character
        switch(GamePieceCharacter){
            case 1:
                gamePieceImages = [dino1L_A, dino1L_B, dino1L_C, dino1flipped_A, dino1flipped_B, dino1flipped_C];
                break;
            case 2:
                gamePieceImages = [dino2L_A, dino2L_B, dino2L_C, dino2flipped_A, dino2flipped_B, dino2flipped_C];
                break;
            case 3: 
                gamePieceImages = [dino3L_A, dino3L_B, dino3L_C, dino3flipped_A, dino3flipped_B, dino3flipped_C];  // <-- Note the order of the images
                break;
            case 4: 
                gamePieceImages = [dino4L_A, dino4L_B, dino4L_C, dino4flipped_A, dino4flipped_B, dino4flipped_C];
                break;
            case 5: 
                gamePieceImages = [dino5L_A, dino5L_B, dino5L_C, dino5flipped_A, dino5flipped_B, dino5flipped_C];
                break;
            case 6: 
                gamePieceImages = [dino6L_A, dino6L_B, dino6L_C, dino6flipped_A, dino6flipped_B, dino6flipped_C];
                break;
        }
        myGamePiece = new component(GamePieceWidth, GamePieceHeight, gamePieceImages, canvasWidth/2, canvasHeight-25, "image");
        myGamePiece.gravity = 0.05;
        myScore = new component("30px", "Consolas", ["white"], 10, 30, "text", []);
        document.getElementById("start").innerHTML = "";
        myGameArea.start();
    }
    
    // Draws both canvases that the player will use to interact with the game.
    var myGameArea = {
        startCanvas : document.createElement("canvas"),
        selectCanvas : document.createElement("canvas"),
        backgroundCanvas : document.createElement("canvas"),
        canvas : document.createElement("canvas"),
        // Draws the start Screen
        launch : function() {
            console.log("myGameArea.launch");
            this.startCanvas.width = canvasWidth;
            this.startCanvas.height = canvasHeight;
            this.startCanvas.setAttribute("id", "startScreen");
            var ctx3 = this.startCanvas.getContext("2d");
            var startCanvas2 = this.startCanvas;

            var startScreen = new Image();
            startScreen.src = startScreenL;
            startScreen.onload = function() {
                ctx3.drawImage(startScreen, 0, 0, canvasWidth, canvasHeight);
                var can = document.getElementById("canvases");
                can.insertAdjacentElement("beforeend", startCanvas2);
            }
        },
        // Draws Select Character Screen
        selectChar : function() {
            console.log("myGameArea.selectChar");
            document.getElementById("canvases").innerHTML = "";
            document.getElementById("start").innerHTML = "<button id=\"startButton\" onclick=\"myGameArea.init()\" onmouseover=\"changeStart()\" onmouseout=\"changeBack()\"><img src=" + startBtn + " id=\"start\" style=\"margin-top: -275px\"></button>";
            this.selectCanvas.width = canvasWidth;
            this.selectCanvas.height = canvasHeight;
            this.selectCanvas.setAttribute("id", "selectScreen");
            var ctx4 = this.selectCanvas.getContext("2d");
            var charSelect = this.selectCanvas;

            var selectScreen = new Image();
            selectScreen.src = selectScreenL;
            selectScreen.onload = function() {
                ctx4.drawImage(selectScreen, 0, 0, canvasWidth, canvasHeight);
                var can = document.getElementById("canvases");
                can.insertAdjacentElement("beforeend", charSelect);
            }
            
            // set height from top of canvas to draw dino selectors
            var heightSelectorPos = canvasHeight - Math.floor(canvasHeight/4.5) - 5;
            var widthSelectorPos = Math.floor(canvasWidth/8) + 50;
            // Draw the dinos as a button
            var dino1 = "<button onclick=\"setDino(1)\"><img src=" + dino1L_A + " width=\"" + Math.floor(canvasWidth/8) + "\" height=\"" + Math.floor(canvasHeight/4.5) + "\" class=\"selected\" style=";
            dino1 = dino1 + "position:absolute;left:20px;top:";
            dino1 = dino1 + heightSelectorPos + "px;z-index:10;\"></button>";

            var dino2 = "<button onclick=\"setDino(2)\"><img src=" + dino2L_A + " width=\"" + Math.floor(canvasWidth/8) + "\" height=\"" + Math.floor(canvasHeight/4.5) + "\" class=\"selected\" style=";
            dino2 = dino2 + "position:absolute;left:" 
            dino2 = dino2 + widthSelectorPos + "px;top:";
            dino2 = dino2 + heightSelectorPos + "px;z-index:10;\"></button>";

            var dino3 = "<button onclick=\"setDino(3)\"><img src=" + dino3L_A + " width=\"" + Math.floor(canvasWidth/8) + "\" height=\"" + Math.floor(canvasHeight/4.5) + "\" class=\"selected\" style=";
            dino3 = dino3 + "position:absolute;left:"
            dino3 = dino3 + widthSelectorPos*2 + "px;top:";
            dino3 = dino3 + heightSelectorPos + "px;z-index:10;\"></button>";

            var dino4 = "<button onclick=\"setDino(4)\"><img src=" + dino4L_A + " width=\"" + Math.floor(canvasWidth/8) + "\" height=\"" + Math.floor(canvasHeight/4.5) + "\" class=\"selected\" style=";
            dino4 = dino4 + "position:absolute;left:"
            dino4 = dino4 + widthSelectorPos*3 + "px;top:";
            dino4 = dino4 + heightSelectorPos + "px;z-index:10;\"></button>";

            var dino5 = "<button onclick=\"setDino(5)\"><img src=" + dino5L_A + " width=\"" + Math.floor(canvasWidth/8) + "\" height=\"" + Math.floor(canvasHeight/4.5) + "\" class=\"selected\" style=";
            dino5 = dino5 + "position:absolute;left:"
            dino5 = dino5 + widthSelectorPos*4 + "px;top:";
            dino5 = dino5 + heightSelectorPos + "px;z-index:10;\"></button>";

            var dino6 = "<button onclick=\"setDino(6)\"><img src=" + dino6L_A + " width=\"" + Math.floor(canvasWidth/8) + "\" height=\"" + Math.floor(canvasHeight/4.5) + "\" class=\"selected\" style=";
            dino6 = dino6 + "position:absolute;left:"
            dino6 = dino6 + widthSelectorPos*5 + "px;top:";
            dino6 = dino6 + heightSelectorPos + "px;z-index:10;\"></button>";

            document.getElementById("selectors").innerHTML = dino1 + dino2 + dino3 + dino4 + dino5 + dino6;
        },
        // Draws the background canvas below the play canvas
        init : function() {
            console.log("myGameArea.init");
            document.getElementById("canvases").innerHTML = "";
            document.getElementById("start").innerHTML = "";
            document.getElementById("selectors").innerHTML = "";
            this.backgroundCanvas.width = canvasWidth;
            this.backgroundCanvas.height = canvasHeight;
            this.backgroundCanvas.setAttribute("id", "background");
            var ctx2 = this.backgroundCanvas.getContext("2d");
            var backgroundCanvas2 = this.backgroundCanvas;
            this.context2 = ctx2;
            var background = new Image();
            background.onload = function() {
                ctx2.drawImage(background, 0, 0, canvasWidth, canvasHeight);
                var can = document.getElementById("canvases");
                can.insertAdjacentElement("afterbegin", backgroundCanvas2);
            }
            var bgs = [playBG, playBG1, playBG2, playBG3, playBG4, playBG5, playBG6, playBG7, playBG8, playBG9];                                        // UPDATE THIS WITH OTHER BACKGROUND IMAGE LINKS
            
            background.src = bgs[getRandomInt(0, bgs.length)];
    
            // Draws the play canvas
            this.canvas.width = canvasWidth;
            this.canvas.height = canvasHeight;
            this.canvas.setAttribute("id", "play");
            this.context = this.canvas.getContext("2d");
            var can = document.getElementById("canvases");
            can.insertAdjacentElement("beforeend", this.canvas);
            this.frameNo = 0;
            this.frameCount = 0;
            for (var x = -200; x <= canvasWidth; x += 50){ // Draw the ground at the start of the stage.
                myGround.push(new component(100, 40, [groundL], x, canvasHeight - 40, "image"));
            }
            startGame();
        },
        // Starts the game
        start : function() {
            console.log("myGameArea.start");
            // Every 10 ms update the game area
            this.interval = setInterval(updateGameArea, 6);
            //this.interval2 = setInterval(updateBackground, 500);
        },
        // Stops the Game
        stop : function() {
            clearInterval(this.interval);
            clearInterval(this.interval2);
        },
        // Clears the play area as prep for redraw
        clear : function() {
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
        }
    }
    
    // Gets a random integer. The maximum is exclusive and the minimum is inclusive
    function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min)) + min;
    }

    // Creates canvas drawable components on to a given canvas
    function component(width, height, imageList, x, y, type) {
        this.type = type;
        if (type == "image") {
            this.image = new Image();
            this.image.src = imageList[0];
        }
        if (imageList.length > 1 && imageList <= 4) {
            this.altImageSrc = imageList[1];
        }
        if (imageList.length > 4){
            this.eastImages = [imageList[0], imageList[1], imageList[2]];
            this.westImages = [imageList[3], imageList[4], imageList[5]];
        }
        
        this.imageList = imageList;
        this.score = 0;
        this.width = width;
        this.height = height;
        this.speedX = 0;
        this.speedY = 0;    
        this.x = x;
        this.y = y;
        this.gravity = 0;
        this.gravitySpeed = 0;
        this.frameInitJump = 0;
        // Draws the image
        this.update = function() {
            ctx = myGameArea.context;
            if (this.type == "text") {                      // Used for writing the Score
                ctx.font = this.width + " " + this.height;
                ctx.fillStyle = imageList[0];
                ctx.fillText(this.text, this.x, this.y);
            } else {                                        // Used for all other game objects
                ctx.drawImage(this.image, 
                    this.x, 
                    this.y,
                    this.width, this.height);
            }
        }
        // Changes the image's location
        this.newPos = function() {
            if (myGameArea.frameCount - this.frameInitJump > jumpTime) {this.gravity = 0.05}
            this.gravitySpeed += this.gravity;
            this.x += this.speedX;
            this.y += this.speedY + this.gravitySpeed;
            this.hitBottom();
        }

        this.die = function() {
            if (myGameArea.frameCount - this.frameInitJump > jumpTime) {this.gravity = 0.05}
            this.gravitySpeed += this.gravity;
            this.x += this.speedX;
            this.y += this.speedY + this.gravitySpeed;
        }
        // Stops the game piece at "ground level"
        this.hitBottom = function() {
            var rockbottom = myGameArea.canvas.height - this.height - 20;
            if (this.y > rockbottom) {
                this.y = rockbottom;
                this.gravitySpeed = 0;
            }
        }
        // Controls the crash into object mechanism
        this.crashWith = function(otherobj, strict) {
            var myleft = this.x;
            var myright = this.x + (this.width);
            var mytop = this.y;
            var mybottom = this.y + (this.height);
            var otherleft = otherobj.x;
            var otherright = otherobj.x + (otherobj.width);
            var othertop = otherobj.y;
            var otherbottom = otherobj.y + (otherobj.height);
            var crash = true;
            if (!strict){
                if ( (mybottom < (othertop + (canvasHeight/32))) || // Allow for visual overlap before crashing
                    (mytop > (otherbottom - (canvasHeight/64))) || 
                    (myright < (otherleft + (canvasWidth/96))) || 
                    (myleft > (otherright - (canvasWidth/96))) ){
                        crash = false;
                }
            } else {
                if ( mybottom < othertop ||
                    mytop > otherbottom ||
                    myright < (otherleft + (canvasWidth/96)) ||
                    myleft > (otherright - (canvasWidth/96))) {
                        crash = false;
                }
            }
            return crash;
        }
    }
    
    /* 
     * DEPRECATED: Left for potential addition or re-use later.
     * Function designed to change the background images during play.
     */
    function updateBackground() {
        
        var cycleNum = Math.floor(myGameArea.frameCount / 50) % 6;
        //console.log("myGameArea.frameCount/10 = " + myGameArea.frameCount/10);
        //console.log("cycleNum = " + cycleNum);
        background = new Image();
        switch (cycleNum){
            case 0:
                background.src = "assets/bg1.jpg";
                break;
            case 1:
                background.src = "assets/bg2.jpg";
                break;
            case 2:
                background.src = "assets/bg3.jpg";
                break;
            case 3:
                background.src = "assets/bg4.jpg";
                break;
            case 4:
                background.src = "assets/bg5.jpg";
                break;
            case 5:
                background.src = "assets/bg6.jpg";
                break;
        }
        myGameArea.context2.drawImage(background, 0, 0, canvasWidth, canvasHeight);
    }
    
    /*
     * Checks for end game conditions, then redraws the screen with the components
     * in their updated positions. Also contains obstacle creations, and their 
     * respective timing components.
     */
    function updateGameArea() {
        var x, y, minHeight, maxHeight, randX;
        // Shows the death animation
        if (deathAnimation) {
            // Stop all obstacles falling and ground scrolling
            if (leftPressed){
                myGameArea.frameNo += 1;
                for (i = 0; i < myObstacles.length; i++){
                    myObstacles[i].x += -1;
                    myObstacles[i].y += -1;
                }
                for (j = 0; j < myGround.length; j++){
                    myGround[j].x += -1;
                }
            }
            if (rightPressed){
                myGameArea.frameNo += 1;
                for (i = 0; i < myObstacles.length; i++){
                    myObstacles[i].x += 1;
                    myObstacles[i].y += -1;
                }
                for (j = 0; j < myGround.length; j++){
                    myGround[j].x += 1;
                }
            }
            if (downPressed){
                for (k = 0; k < myObstacles.length; k++){
                    myObstacles[k].y += -1;
                }
            }
            
            if (myGamePiece.y > canvasHeight){
                var gameOver = new component("30px", "Consolas", ["white"], canvasWidth/2 - 50, canvasHeight/2, "text", []);
                gameOver.text = "GAME OVER";
                gameOver.update();
                myScore.x = canvasWidth / 2 - 50;
                myScore.y = canvasHeight / 2 + 30;
                myScore.update();
                myGameArea.stop();
                myGameArea.clear();
                deathAnimation = false;
                myObstacles = [];
                myGround = [];
                myCrators = [];
                leftPressed = false;
                rightPressed = false;
                downPressed = false;
                document.getElementById("canvases").innerHTML = "";
                document.getElementById("start").innerHTML = "<button id=\"startButton\" onclick=\"myGameArea.selectChar()\" onmouseover=\"changeStart()\" onmouseout=\"changeBack()\"><img src=\"https://static.wixstatic.com/media/2a9d29_2a4ff41712a44c17be550d04ba5c739e~mv2.png/v1/fill/w_600,h_231,al_c,q_80,usm_0.66_1.00_0.01/2a9d29_2a4ff41712a44c17be550d04ba5c739e~mv2.webp\" id=\"start\"></button>";
                window.parent.postMessage(myScore.score, "*");   // Send the score to WIX parent window
                return;
            }
        }

        // Prevent backward travel for too long at game beginning
        if (myGameArea.frameNo < -100){
            deathAnimation = true;
        }

        // Check end condition with obstacle crash
        for (i = 0; i < myObstacles.length; i += 1) {
            if (myGamePiece.crashWith(myObstacles[i])) {
                deathAnimation = true;
                // Show Game Over message
                console.log("Game Over!!!!!! Crashed with Meteor");
                //console.log("myGamePiece.x = " + myGamePiece.x + " myGamePiece.y = " + myGamePiece.y + " myGamePiece.x+width = " + (myGamePiece.x + GamePieceWidth) + " myGamePiece.y+height = " + (myGamePiece.y + GamePieceHeight));
                //console.log("obstacle.x = " + myObstacles[i].x + " obstacle.y = " + myObstacles[i].y + " obstacle.x+width = " + (myObstacles[i].x + ObstacleWidth) + " obstacle.y+height = " + (myObstacles[i].y + ObstacleHeight));
            } else if (myGameArea.frameNo % roundDuration == 0){
                // Advance to next difficulty
                myRound = (myGameArea.frameNo / roundDuration) + 1;
            }
        }
    
        // Check end condition with crater crash
        for (j = 0; j < myCrators.length; j += 1){
            if (myGamePiece.crashWith(myCrators[j], true)){
                deathAnimation = true;
                console.log("Game Over - Crashed with Crator")
            }
        }
    
        myGameArea.clear();
        document.onkeydown = checkKey;
        myGameArea.frameCount += 1;
    
        if (leftPressed){
            myGameArea.frameNo += -1;
        }
        if (rightPressed){
            myGameArea.frameNo += 1;
        }
        
        // Draw Ground Components as screen scrolls
        if (frameInterval(50) && !deathAnimation) { 
            x = myGameArea.canvas.width;
            y = myGameArea.canvas.height;
            myGround.push(new component(100, 40, [groundL], x, y - 40, "image", []));
        }
    
        // Add Character leg movement
        // Requires that All east facing character images are in postion 0-2 of the imageList array upon creation
        // Also requires that All west facing character images are in postion 3-5 of the imageList array upon creation
        if (frameInterval(10)){
            if (!leftPressed && !downPressed){
                var eastImgIndex = myGamePiece.eastImages.indexOf(myGamePiece.image.src);
                eastImgIndex++;
                myGamePiece.image = new Image();
                myGamePiece.image.src = myGamePiece.eastImages[eastImgIndex % myGamePiece.eastImages.length];
            }
            else if (!rightPressed && !downPressed){
                var westImgIndex = myGamePiece.westImages.indexOf(myGamePiece.image.src);
                westImgIndex++;
                myGamePiece.image = new Image();
                myGamePiece.image.src = myGamePiece.westImages[westImgIndex % myGamePiece.westImages.length];
            }
        }

        // Small Meteors
        if (timeInterval(200) && !deathAnimation) {
            if (myGameArea.frameNo != 0){
                for (i = 0; i < myRound; i++){
                    randX = Math.floor(Math.random()*(canvasWidth+ObstacleWidth*5));
                    if (useRandY){
                        randY = Math.floor(Math.random()*(-1)*ObstacleHeight-ObstacleHeight);
                    } else {
                        randY = (-1)*(ObstacleHeight);
                    }
                    myObstacles.push(new component(50, 150, [meteor, meteorFlipped], randX, randY, "image"));
                }
            }
        }
    
        // Big Meteor
        if ((myGameArea.frameNo > 8000) && timeInterval(500) && !deathAnimation){
            randX = Math.floor(Math.random()*canvasWidth+150);
            if (useRandY){
                randY = Math.floor(Math.random()*(-1)*ObstacleHeight-200);
            } else {
                randY = (-1)*(ObstacleHeight);
            }
            myObstacles.push(new component(150, 200, [bigMeteor1, bigMeteor2, bigMeteor3, bigMeteor4], randX, randY, "image"));
        }
    
        // Moves Obstacles 
        for (i = 0; i < myObstacles.length; i += 1) {
            if (leftPressed){
                myObstacles[i].x += 1;
            }
            if (rightPressed){
                myObstacles[i].x += -1;
            }
    
            // Obstacles continue to fall even when character has stopped moving
            myObstacles[i].y += +1;
    
            // Flip the image to create spiraling effect
            if (myObstacles[i].y % 15 == 0){
                var temp = myObstacles[i].image.src;
                var current = temp.split("/assets");
    
                var tempList = myObstacles[i].imageList;
                var index;
                for (j = 0; j < tempList.length; j += 1){
                    if (temp.includes(tempList[j])) {
                        index = j + 1;
                    }
                }
                myObstacles[i].image = new Image();
                myObstacles[i].image.src = tempList[index % tempList.length];
            }
            
            // Meteor disappear after rock crosses ground
            if ( (myObstacles[i].y + myObstacles[i].height - 20) > myGameArea.canvas.height && (myObstacles[i].image.src == bigMeteor1 || myObstacles[i].image.src == bigMeteor2 || myObstacles[i].image.src == bigMeteor3 || myObstacles[i].image.src == bigMeteor4) ) {
                myCrators.push(new component(100, 40, [craterL], myObstacles[i].x, myGameArea.canvas.height - 41, "image"));
                myObstacles.shift();
            } else if ((myObstacles[i].y + myObstacles[i].height - 20) > myGameArea.canvas.height) {
                myObstacles.shift();
            }
            myObstacles[i].update();                                    
        }
    
        // Craters disapper after random amount of time (Generally Small)
        if (timeInterval(400)){
            myCrators.shift();
        }
        
        // Moves ground left to right
        for (i = 0; i < myGround.length; i++) {
            if (leftPressed){
                myGround[i].x += 1;
            }
            if (rightPressed){
                myGround[i].x += -1;
            }
            myGround[i].update();
        }
    
        // Moves Crators left to right
        for(i = 0; i < myCrators.length; i += 1){
            if (leftPressed){
                myCrators[i].x += 1;
            }
            if (rightPressed){
                myCrators[i].x += -1;
            }
            myCrators[i].update();
        }
        
        // Update Score Text
        if (!deathAnimation){
            myScore.text="SCORE: " + myGameArea.frameNo;
            myScore.score = myGameArea.frameNo;
            myGamePiece.newPos();
        } else {
            // Do Game Over
            myGamePiece.die();
        }

        myScore.update();
        myGamePiece.update();
    }
    
    function frameInterval(n) {
        if ((myGameArea.frameNo / n) % 1 == 0) {return true;}
        return false;
    }
    
    function timeInterval(n) {
        if ((myGameArea.frameCount / n) % 1 == 0) {return true;}
        return false;
    }
    
    /* 
     * Sets the character game piece's jump acceleration and tracks the start of the jump
     * animation, so that after a certain number of frames gravity will overtake the upward
     * acceleration, and cause the character piece to begin to fall. 
     */
    function accelerate(n) {
        // Disallows double jumping
        if (myGamePiece.y == myGameArea.canvas.height - myGamePiece.height - 20){
            myGamePiece.gravity = n;
            myGamePiece.frameInitJump = myGameArea.frameCount;
        }
    }
    
    /*
     * Gets the key presses on a keyboard and passes them in to create motion.
     * TO-DO: Add mobile key presses, and mobile overlay tie ins
     */
    function checkKey(e){
        e = e || window.event;
        //console.log("Key code received = " + e.keyCode);
        if (e.keyCode == '38' || e.keyCode == '32' || e.keyCode == '87'){  // JUMP!!
            // Up arrow || space bar || 'w' pressed
            e.preventDefault();
            accelerate(-0.5);
        }
        else if (e.keyCode == '40' || e.keyCode == '83'){ // Stop Moving, Stand Still
            // down arrow || 's' pressed
            e.preventDefault();
            leftPressed = false;
            rightPressed = false;
            downPressed = true;
        }
        else if (e.keyCode == '37' || e.keyCode == '65'){ // Move character left
            // left arrow or 'a' pressed
            e.preventDefault();
            leftPressed = true;
            rightPressed = false;
            downPressed = false;
            if (myGamePiece.image.src == dino1L_A || myGamePiece.image.src == dino2L_A || myGamePiece.image.src == dino3L_A || myGamePiece.image.src == dino4L_A || myGamePiece.image.src == dino5L_A || myGamePiece.image.src == dino6L_A){
                flipCharImage();
            }
        }
        else if (e.keyCode == '39' || e.keyCode == '68'){ // Move character right
            // right arrow  or 'd' pressed
            e.preventDefault();
            rightPressed = true;
            leftPressed = false;
            downPressed = false;
            if (myGamePiece.image.src == dino1flipped_A || myGamePiece.image.src == dino2flipped_A || myGamePiece.image.src == dino3flipped_A || myGamePiece.image.src == dino4flipped_A || myGamePiece.image.src == dino5flipped_A || myGamePiece.image.src == dino6flipped_A){
                flipCharImage();
            }
        }
    }
    
    function setDino(num) {
        GamePieceCharacter = num;
        var selector = num - 1;
        document.getElementById("selectors").childNodes[selector].childNodes[0].style.border = "solid white";
        var numCharacters = document.getElementById("selectors").childElementCount;
        for (i = 0; i < numCharacters; i++) {
            if (i != selector){
                document.getElementById("selectors").childNodes[i].childNodes[0].style.border = "";
            }
        }
    }
    
    /*
     * Flips the game piece image from left facing to right facing when opposite direction
     * keys are pressed. 
     * TO-DO: Potentially modify this for character running animations to select a different set
     * of images to support animation sequences
     */
    function flipCharImage(){
        var temp = myGamePiece.image.src;
        myGamePiece.image = new Image();
        myGamePiece.image.src = myGamePiece.altImageSrc;
        myGamePiece.altImageSrc = temp;
    }

    /* Start Button Related functions */
    function changeStart() {
        if (document.getElementById("startButton").innerHTML == "<img src=" + startBtn + " id=\"start\">"){
            document.getElementById("startButton").innerHTML =  "<img src=" + startBtnMouseOver + " id=\"start\">";
        } 
    }

    function changeBack() {
        if (document.getElementById("startButton").innerHTML == "<img src=" + startBtnMouseOver + " id=\"start\">") {
            document.getElementById("startButton").innerHTML = "<img src=" + startBtn + " id=\"start\">";
        }
    }
    </script>
</body>
</html>
